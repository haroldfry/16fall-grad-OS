%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% University/School Laboratory Report
% LaTeX Template
% Version 3.1 (25/3/14)
%
% This template has been downloaded from:
% http://www.Laemphlates.com
%
% Original author:
% Linux and Unix Users Group at Virginia Tech Wiki 
% (https://vtluug.org/wiki/Example_LaTeX_chem_lab_report)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass{article}

\usepackage[margin=1.7in]{geometry}
\usepackage{siunitx} % Provides the \SI{}{} and \si{} command for typesetting SI units
\usepackage{graphicx} % Required for the inclusion of images
%\usepackage{natbib} % Required to change bibliography style to APA
\usepackage{amsmath} % Required for some math elements 
\usepackage{float}
\usepackage{hyperref}
\usepackage{algorithm, algpseudocode}% http://ctan.org/pkg/algorithms
\usepackage{algpseudocode}
\setlength\parindent{0pt} % Removes all indentation from paragraphs

%\usepackage{times} % Uncomment to use the Times New Roman font

%----------------------------------------------------------------------------------------
%	DOCUMENT INFORMATION
%----------------------------------------------------------------------------------------

\title{{\textbf{Virtual Machine vs. Container Runtimes: Performance Comparison}} \\
       \vspace{3\baselineskip}
       {\large Project proposal} \\
       \vspace{3\baselineskip}
       {\large Graduate Operating System} \\ 
       {\large CSE 60641} % Title
      }
%\author{John \textsc{Smith}} % Author name

\date{\today} % Date for the report
\author{Boyang Li, Bingyu Shen, Chao Zheng}

\begin{document}

\maketitle % Insert the title, author and date

\begin{center}
\begin{tabular}{l r}
Due:& September 22, 2016\\ 
\end{tabular}
\end{center}
\nocite{*}

\pagebreak

\section{Abstract}

Traditional virtualization machines that use hypervisors to virtualize hardware devices are 
enable heterogenous operating systems(OS) share limited computing resources. Meanwhile, sine each 
operating system need to be started from scratch, it imposes nonnegligible overheads. Recently, 
with the rise of OS level virtualization, it becomes possible to run various OS on a host system 
with very low overheads. In this paper, we compare various aspects of system performance between 
origin namespaces isolation, light weight container runtimes and virtual machines. We also run several
HPC workflows on Notre Dame disc cluster with Docker container runtime\cite{dockerwb}, Linux namespace
isolation environment, Makeflow\cite{albrecht2012makeflow} and Condor\cite{thain2003condor} to 
check the overheads of light weight container on cluster level.  

\section{Introduction}

\subsection{Linux Namespaces}

Linux Namespace\cite{rosen2013resource}

\subsection{Singularity}

Singularity\cite{singularity}

\subsection{Docker}

Docker\cite{dockerwb}

\subsection{Virtual Machine}

Virtual Machine\cite{rosenblum2005virtual}

\subsection{Virtualization on HPC}

\section{Related Work}

Our work related to Micro-level system performance as well as Macro-level performance(i.e. cluster
level performance) of lightweight container runtimes. Several recent studies are focus on compare 
the system performance of Hypervisors and Lightweight container on Micro-level. Roberto's 
paper\cite{morabito2015hypervisors} show the difference of the CPU, memory, network and disk I/O 
performance between non-virtualization, KVM, LXC, Docker and OSv on a local workstation. The 
technical paper from IBM\cite{felter2014updated}, not only conducting standar benchmarks on 
non-virtualization native system, Docker and KVM, but also running two widly used 
applications(i.e. Linpack, MySQL) with different runtime environments.  

How to employ lightweight containerization to cloud computing platform and clusters management 
framework has become a hot topic in HPC community recently. Rajdeep's 
work\cite{dua2014virtualization} discusses how mainstream PaaS vendors apply containerization to 
hosting apps. It explore the architecture and usage of various container runtimes - Linux 
Containers, Docker, Warden Container, lmctfy and OpenVZ. Xavier's paper\cite{xavier2013performance}
compare the performance of several container runtimes with Xen, a commonly used hypervisor-based 
implementation. The author also conducting benchmark with NPB benchmark suit - an HPC application. 
Furthormore, the author also show the isolation performance by using Isolation Benchmark Suite(IBS).
Our previous work\cite{zheng2015integrating} show that launching HPC workflow with 
different container configurations can highly influence the performance and there is a 
tradeoff between isolation and performance. 

This object is mainly an extension of some previous work. We will benchmark the performance of our
own container runtime VLLC and Singularity - a new container runtime specifically designed for HPC.
And compare them with Docker and Virtualbox.

\section{Proposed Work}

\section{Evaluation}

We evaluate the performance of the lightweight container runtimes from micro and macro aspects. We conducting 
micro-benchmarks on a ThinkPad T430 machine, which consists of an Intel Core i5-3320M CPU with 16GB RAM, 256GB
SSD, 1GB Ethernet, running Ubuntu Linux 16.04 with Linux kernel 4.4.0-38-generic. For macro-benchmarks, we use
Notre Dame CRC disc cluster, The cluster consisted of twenty-four 8-core Intel Xeon E5620 CPUs each with 32GB
RAM, 12 2TB disks, 1Gb Ethernet, running Red Hat Enterprise Linux 6.8 with Linux kernel 2.6.32-642.4.2.el6.x86\_64.

\subsection{Microbenchmarks}

We are going to evaluate the various aspects of system performance between our VLLC, 
lightweight Linux container and virtual machine. We will apply \textbf{sysbench} to measure the CPU 
performance and memory bandwidth, \textbf{netperf} to evaluate the network throughput and \textbf{bonnie++} 
to evaluate disk I/O performance. We expect that the performance difference of CPU, memory and network would 
be negligiable. While, for the I/O performance we expect to see huge difference between Docker and Host 
system because of the use of \textbf{aufs} and less difference between Singularity, namespace isolation tool and
Host system because the first two configurations use local directory as drive.

\subsection{Macrobenchmarks}

Based on the previous work\cite{zheng2015integrating}, we plan to run macro-benchmarks on latest version of Makeflow, 
the HPC workflow management tools with HTCondor framework anduse Burrows-Wheeler Alignment (BWA) 
bioinformatics workflow, which consist 822 subtasks that can be highly parallelized. We will launch 
the workflow with VLLC, Docker and origin Makeflow system and compare the overall running time and per-task execution time.
The expected results would be Workflow launching with Docker can cause considerable overheads compare to workflow
running with VLLC and host system.

\medskip

Based on the benchmark results, we may be able to reach a conclusion that, lightweight container technologies 
provided certain level of resource virtualization but it also suffer certain system overheads depends on the level
of isolation they provided.

\section{Timeline}

%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------
% print out all references without citing

\bibliographystyle{abbrv}

\bibliography{sample}

%----------------------------------------------------------------------------------------

\end{document}
